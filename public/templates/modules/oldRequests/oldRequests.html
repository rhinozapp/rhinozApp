<md-content>
    <md-subheader class="md-primary">Veja abaixo seu historico de pedidos</md-subheader>

    <div layout="row">
        <md-card flex="100">
            <md-table-container>
                <table md-table>
                    <thead md-head md-order="oldRequests.vars.query.order">
                    <tr md-row>
                        <th md-column md:order:by="tableName">Mesa</th>
                        <th md-column md:order:by="name">Usuário</th>
                        <th md-column>Ver detalhes</th>
                    </tr>
                    </thead>

                    <tbody md-body>
                    <tr md-row
                        ng-repeat="data in oldRequests.vars.requestsList | orderBy: oldRequests.vars.query.order | limitTo: oldRequests.vars.query.limit: (oldRequests.vars.query.page - 1) * oldRequests.vars.query.limit">


                        <td md-cell>{{data.tableID.tableName}}</td>
                        <td md-cell>{{data.userAppID.name}}</td>

                        <td md-cell>
                            <md-button ng-click="oldRequests.functions.moreDetailsOldRequest(data)"
                                       class="md-icon-button">
                                <md-icon class="icon-24">keyboard_arrow_right</md-icon>
                            </md-button>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </md-table-container>

            <md-table-pagination md-limit="oldRequests.vars.query.limit"
                                 md-page="oldRequests.vars.query.page"
                                 md-total="{{oldRequests.vars.requestsList.length}}"
                                 md-page-select md-label="{page: 'Página:', rowsPerPage: 'Linhas por Página:', of: 'de'}"
                                 md-options="[25,50,100]"></md-table-pagination>
        </md-card>
    </div>
</md-content>